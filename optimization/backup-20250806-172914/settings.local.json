{
  "permissions": {
    "allow": [
      "Bash(mkdir:*)",
      "Bash(python:*)",
      "Bash(rm:*)",
      "Bash(ls:*)",
      "Bash(npm run upload:*)",
      "Bash(npm run update-links:*)",
      "Bash(find:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(git rm:*)",
      "Bash(git add:*)",
      "Bash(git checkout:*)",
      "Bash(mv:*)",
      "Bash(cp:*)",
      "Bash(mmdc:*)",
      "mcp__ide__executeCode",
      "Bash(npm install)",
      "Bash(for:*)",
      "Bash(do if [ \"$file\" != \"server-client-optimization-test.mmd\" ])",
      "Bash(then mmdc -i \"$file\" -o \"../images/$file%.mmd.png\" -b white -s 2 -w 1200)",
      "Bash(fi)",
      "Bash(done)",
      "Bash(/post-qiita NextJSRenderingBattle)",
      "Bash(bash optimization/scripts/*)"
    ],
    "deny": []
  },
  "hooks": {
    "user-prompt-submit": {
      "command": "bash optimization/scripts/detect-engine.sh > /dev/null 2>&1 && bash optimization/scripts/track-session.sh && bash optimization/scripts/update-dashboard-js.sh",
      "blocking": false,
      "timeout": 5000
    },
    "post-response": {
      "command": "bash optimization/scripts/update-indicators.sh && bash optimization/scripts/calculate-tokens.sh > /dev/null 2>&1 && bash optimization/scripts/update-dashboard-js.sh",
      "blocking": false,
      "timeout": 5000
    },
    "file-change": {
      "command": "echo \"$(date '+%H:%M:%S')|${file_path}|${operation}|$(wc -c < \"${file_path}\" 2>/dev/null | awk '{print int($1/3)}' || echo 0)\" >> optimization/context/.file_access.log && bash optimization/scripts/update-dashboard-js.sh",
      "blocking": false,
      "timeout": 2000
    }
  }
}